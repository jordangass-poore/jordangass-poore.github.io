{"version":3,"sources":["webpack:///./src/components/PreviewImage.js","webpack:///./src/components/NodesList.js","webpack:///./src/styles/fwAllNodes.module.css","webpack:///./src/templates/allClip-page.js","webpack:///./src/styles/strongSlantAllNodes.module.css","webpack:///./src/components/SortDown.js"],"names":["PreviewImage","props","previewImage","isFluid","origImage","imageObject","aNode","fields","imgObj","childImageSharp","fluid","publicURL","previewEl","sources","Object","assign","media","alt","className","styles","bbImageWrapper","src","noImg","path","basename","data-orig-image","id","style","NodesList","useState","filteredData","query","topicQuery","formatQuery","edgeList","baseOfLink","baseOfObject","allNodesStyles","nodeSortContainer","type","aria-label","placeholder","onChange","e","handleInputChange","formInput","sorters","nodeSetContainer","map","node","key","nodeSingle","to","slug","listImage","textDecoration","title","extraFields","pretext","content","HumanReadableDate","date","module","exports","data","post","file","childMarkdownRemark","state","setState","allClip","edges","topicSelect","edgeParamter","handleChange","event","target","value","console","log","filter","description","topic","format","validity","toLowerCase","includes","queryValid","formatValid","formatSelect","trim","topicValid","fnw","stylesNodes","allNodesHeader","basicContainer","display","float","position","top","paddingLeft","frontmatter","dangerouslySetInnerHTML","__html","html","SortDown","pdStart","edgeParam","topicPullDownLimited","reduce","accumulator","currentValue","push","sort","pullDownList","nameOfSort","formDropdown","capitalize","htmlFor"],"mappings":"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","file":"component---src-templates-all-clip-page-js-8582180ac8da08710e1d.js","sourcesContent":["import React, { useState } from \"react\"\nimport allNodesStyles from \"../styles/fwAllNodes.module.css\"\nimport styles from \"../styles/strongSlant.module.css\"\nimport Link from \"gatsby-link\"\nimport Img from \"gatsby-image\"\nimport path from \"path\"\n\nconst PreviewImage = props => {\n\tvar imageObject = props.aNode.fields.imgObj\n\tvar previewImage, isFluid, origImage\n\tif (imageObject) {\n\t\tif (imageObject.childImageSharp && imageObject.childImageSharp.fluid) {\n\t\t\tpreviewImage = imageObject.childImageSharp.fluid\n\t\t\tisFluid = true\n\t\t} else if (imageObject.publicURL) {\n\t\t\tpreviewImage = imageObject.publicURL\n\t\t}\n\t}\n\tif (imageObject && imageObject.publicURL) {\n\t\torigImage = imageObject.publicURL\n\t}\n\tvar previewEl = null\n\tif (previewImage && isFluid) {\n\t\tconst previewImageObj = Object.assign(\n\t\t\t{ media: `(max-width: 300px)` },\n\t\t\timageObject.childImageSharp.fluid\n\t\t)\n\t\tconst sources = [previewImageObj]\n\t\tpreviewEl = <Img fluid={sources} alt=\"\" className={styles.bbImageWrapper} />\n\t} else if (previewImage) {\n\t\tpreviewEl = (\n\t\t\t<img src={previewImage} alt=\"\" className={styles.bbImageWrapper} />\n\t\t)\n\t} else {\n\t\tpreviewEl = <div className={styles.noImg}></div>\n\t}\n\tif (\n\t\t!origImage ||\n\t\ttypeof origImage !== \"string\" ||\n\t\tpath.basename(origImage) == \"Transparent-l.png\"\n\t) {\n\t\tpreviewEl = <div className={styles.noImg}></div>\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tdata-orig-image={origImage}\n\t\t\tclassName={props.className}\n\t\t\tid={props.id}\n\t\t\tstyle={props.style}\n\t\t>\n\t\t\t{previewEl}\n\t\t</div>\n\t)\n}\n\nexport default PreviewImage\n","import React, { useState } from \"react\"\nimport allNodesStyles from \"../styles/strongSlantAllNodes.module.css\"\nimport styles from \"../styles/strongSlant.module.css\"\nimport Link from \"gatsby-link\"\nimport PreviewImage from \"./PreviewImage\"\nimport SortDown from \"../components/SortDown\"\nimport HumanReadableDate from \"../components/HumanReadableDate\"\n\nconst NodesList = props => {\n\tconst emptyQuery = \"\"\n\tconst emptyTopicQuery = \"\"\n\tconst emptyFormatQuery = \"\"\n\n\tconst [state, setState] = useState({\n\t\tfilteredData: [],\n\t\tquery: emptyQuery,\n\t\ttopicQuery: emptyTopicQuery,\n\t\tformatQuery: emptyFormatQuery,\n\t})\n\n\tlet { edgeList, style, className, baseOfLink, baseOfObject } = props\n\n\t// TODO: Add sort by publication\n\treturn (\n\t\t<div style={style} className={className}>\n\t\t\t<div id={allNodesStyles.nodeSortContainer}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\taria-label=\"Search\"\n\t\t\t\t\tplaceholder=\"Type to filter posts...\"\n\t\t\t\t\tonChange={e => props.handleInputChange(e)}\n\t\t\t\t\tclassName={allNodesStyles.formInput}\n\t\t\t\t/>\n\t\t\t\t{props.sorters}\n\t\t\t</div>\n\t\t\t<ul className={allNodesStyles.nodeSetContainer}>\n\t\t\t\t{edgeList.map(node => (\n\t\t\t\t\t<li key={node.node.id} className={allNodesStyles.nodeSingle}>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={\"/\" + baseOfLink + node.node[baseOfObject].slug}\n\t\t\t\t\t\t\tkey={node.node.id}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PreviewImage\n\t\t\t\t\t\t\t\taNode={node.node}\n\t\t\t\t\t\t\t\tclassName={allNodesStyles.listImage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\ttextDecoration: \"underline\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h5>{node.node[baseOfObject].title}</h5>\n\t\t\t\t\t\t\t\t{props.extraFields.map(({ key, pretext }) => {\n\t\t\t\t\t\t\t\t\tif (node.node[baseOfObject][key]) {\n\t\t\t\t\t\t\t\t\t\tlet content = node.node[baseOfObject][key]\n\t\t\t\t\t\t\t\t\t\tif (key === \"date\") {\n\t\t\t\t\t\t\t\t\t\t\tcontent = <HumanReadableDate date={content} />\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<h6 key={key + \"_\" + node.node.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{pretext}\n\t\t\t\t\t\t\t\t\t\t\t\t{content}\n\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t)\n}\n\nexport default NodesList\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"allNodesContainer\":\"fwAllNodes-module--all-nodes-container--1y7CY\",\"allNodesHeader\":\"fwAllNodes-module--all-nodes-header--mmN2q\",\"nodeSortContainer\":\"fwAllNodes-module--node-sort-container--1nqk1\",\"nodeSetContainer\":\"fwAllNodes-module--node-set-container--1w3V6\",\"nodeSingle\":\"fwAllNodes-module--node-single--qRjYM\",\"listImage\":\"fwAllNodes-module--list-image--2BmxY\",\"nodeSingleInnerLayer\":\"fwAllNodes-module--node-single-inner-layer--1vTXZ\",\"formInput\":\"fwAllNodes-module--form-input--3c7_z\",\"formDropdown\":\"fwAllNodes-module--form-dropdown--10A5f\",\"capitalize\":\"fwAllNodes-module--capitalize--2STMX\"};","import React, { useState } from \"react\"\nimport { graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport Link from \"gatsby-link\"\nimport NodesList from \"../components/NodesList\"\nimport styles from \"../styles/strongSlant.module.css\"\nimport stylesNodes from \"../styles/strongSlantAllNodes.module.css\"\nimport BreadCrumb from \"../components/BreadCrumb\"\nimport SortDown from \"../components/SortDown\"\nimport Helmet from \"react-helmet\"\n// Cards are topic=Features, format=text, format=audio\n\nexport default data => {\n\tconst post = data.data.file.childMarkdownRemark\n\tconst baseOfObject = \"clip\"\n\n\tconst emptyQuery = \"\"\n\tconst emptyTopicQuery = \"\"\n\tconst emptyFormatQuery = \"\"\n\n\tconst [state, setState] = useState({\n\t\tfilteredData: [],\n\t\tquery: emptyQuery,\n\t\ttopicQuery: emptyTopicQuery,\n\t\tformatQuery: emptyFormatQuery,\n\t})\n\n\tconst edgeList = data.data.allClip.edges\n\n\t// From: https://www.aboutmonica.com/blog/create-gatsby-blog-search-tutorial\n\tconst handleInputChange = event => {\n\t\tconst query = event.target.value\n\t\t// this is how we get all of our posts\n\t\tconst edges = edgeList || []\n\t\tconst { topicQuery, formatQuery } = state\n\t\t// return all filtered posts\n\t\tconst filteredData = edges.filter(node => {\n\t\t\t// destructure data from post frontmatter\n\t\t\tconst { description, title, topic, format } = node.node[baseOfObject]\n\t\t\tlet validity =\n\t\t\t\tdescription.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\t\ttitle.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\t\ttopic.toLowerCase().includes(query.toLowerCase()) // ||\n\t\t\t// topic.toLowerCase().includes(state.topicQuery.toLowerCase())\n\n\t\t\tvar topicValid = true\n\t\t\tif (topicQuery) {\n\t\t\t\ttopicValid = topic.toLowerCase().includes(topicQuery.toLowerCase())\n\t\t\t\tconsole.log(\"Topic check addl \", topicValid)\n\t\t\t}\n\n\t\t\tvar formatValid = true\n\t\t\tif (formatQuery) {\n\t\t\t\tformatValid = format.toLowerCase().includes(formatQuery.toLowerCase())\n\t\t\t}\n\n\t\t\treturn validity && topicValid && formatValid\n\t\t})\n\t\t// update state according to the latest query and results\n\t\tsetState({\n\t\t\tquery, // with current query string from the `Input` event\n\t\t\ttopicQuery,\n\t\t\tformatQuery,\n\t\t\tfilteredData, // with filtered data from posts.filter(post => (//filteredData)) above\n\t\t})\n\t}\n\n\tconst handleTopicChange = event => {\n\t\tconst topicQuery = event.target.value\n\t\tconsole.log(\"Topic change: \", event)\n\t\t// this is how we get all of our posts\n\t\tconst edges = edgeList || []\n\t\tconst { query, formatQuery } = state\n\t\t// return all filtered posts\n\t\tconst filteredData = edges.filter(node => {\n\t\t\t// destructure data from post frontmatter\n\t\t\tconst { description, title, topic, format } = node.node[baseOfObject]\n\t\t\tvar validity =\n\t\t\t\t// standardize data with .toLowerCase()\n\t\t\t\t// return true if the description, title or tags\n\t\t\t\t// contains the query string\n\t\t\t\t// description.toLowerCase().includes(state.query.toLowerCase()) ||\n\t\t\t\t// title.toLowerCase().includes(state.query.toLowerCase()) ||\n\t\t\t\t// topic.toLowerCase().includes(state.query.toLowerCase()) ||\n\t\t\t\ttopic.toLowerCase().includes(topicQuery.toLowerCase())\n\n\t\t\tvar queryValid = true\n\t\t\tif (queryValid) {\n\t\t\t\tqueryValid =\n\t\t\t\t\tdescription.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\t\t\ttitle.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\t\t\ttopic.toLowerCase().includes(query.toLowerCase())\n\t\t\t}\n\n\t\t\tvar formatValid = true\n\t\t\tif (formatQuery) {\n\t\t\t\tformatValid = format.toLowerCase().includes(formatQuery.toLowerCase())\n\t\t\t}\n\n\t\t\treturn validity && queryValid && formatValid\n\t\t})\n\t\t// update state according to the latest query and results\n\t\tsetState({\n\t\t\tquery,\n\t\t\ttopicQuery, // with current query string from the `Input` event\n\t\t\tformatQuery,\n\t\t\tfilteredData, // with filtered data from posts.filter(post => (//filteredData)) above\n\t\t})\n\t}\n\n\tconst handleFormatChange = event => {\n\t\tconst formatQuery = event.target.value\n\t\t// this is how we get all of our posts\n\t\tconst edges = edgeList || []\n\t\tconst { topicQuery, query } = state\n\t\t// return all filtered posts\n\t\tconst filteredData = edges.filter(node => {\n\t\t\t// destructure data from post frontmatter\n\t\t\tconst { description, title, topic, format } = node.node[baseOfObject]\n\t\t\tlet validity = format\n\t\t\t\t.toLowerCase()\n\t\t\t\t.trim()\n\t\t\t\t.includes(formatQuery.toLowerCase().trim()) // ||\n\t\t\t// topic.toLowerCase().includes(state.topicQuery.toLowerCase())\n\n\t\t\tvar topicValid = true\n\t\t\tif (topicQuery) {\n\t\t\t\ttopicValid = topic.toLowerCase().includes(topicQuery.toLowerCase())\n\t\t\t}\n\n\t\t\tvar queryValid = true\n\t\t\tif (queryValid) {\n\t\t\t\tqueryValid =\n\t\t\t\t\tdescription.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\t\t\ttitle.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\t\t\ttopic.toLowerCase().includes(query.toLowerCase())\n\t\t\t}\n\n\t\t\treturn validity && topicValid && queryValid\n\t\t})\n\t\t// update state according to the latest query and results\n\t\tsetState({\n\t\t\tquery, // with current query string from the `Input` event\n\t\t\ttopicQuery,\n\t\t\tformatQuery,\n\t\t\tfilteredData, // with filtered data from posts.filter(post => (//filteredData)) above\n\t\t})\n\t}\n\n\tconst { filteredData, topicQuery, formatQuery, query } = state\n\tconst hasSearchResults =\n\t\tfilteredData &&\n\t\t(query !== emptyQuery ||\n\t\t\ttopicQuery !== emptyTopicQuery ||\n\t\t\tformatQuery !== emptyFormatQuery)\n\tconst edges = hasSearchResults ? filteredData : edgeList\n\n\tconst topicSelect = (\n\t\t<SortDown\n\t\t\tkey=\"sortdown-topic\"\n\t\t\tedgeParamter=\"topic\"\n\t\t\tbaseOfObject={baseOfObject}\n\t\t\thandleChange={handleTopicChange}\n\t\t\tedgeList={edgeList}\n\t\t/>\n\t)\n\n\tconst formatSelect = (\n\t\t<SortDown\n\t\t\tkey=\"sortdown-format\"\n\t\t\tedgeParamter=\"format\"\n\t\t\tbaseOfObject={baseOfObject}\n\t\t\thandleChange={handleFormatChange}\n\t\t\tedgeList={edgeList}\n\t\t/>\n\t)\n\n\t// console.log(\"Data: \", data.data)\n\treturn (\n\t\t<Layout>\n\t\t\t<Helmet>\n\t\t\t\t<body className={styles.fnw} />\n\t\t\t</Helmet>\n\t\t\t<div>\n\t\t\t\t<div id={stylesNodes.allNodesHeader} className={styles.basicContainer}>\n\t\t\t\t\t<BreadCrumb\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\t\t\tfloat: \"left\",\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\ttop: \"calc(3rem - 34px)\",\n\t\t\t\t\t\t\tpaddingLeft: \"20px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tClips\n\t\t\t\t\t</BreadCrumb>\n\t\t\t\t\t<h1>{post.frontmatter.title}</h1>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: post.html }} />\n\t\t\t\t</div>\n\t\t\t\t<NodesList\n\t\t\t\t\tedgeList={edges}\n\t\t\t\t\tbaseOfLink=\"clip/\"\n\t\t\t\t\tbaseOfObject=\"clip\"\n\t\t\t\t\textraFields={[{ key: \"publishedBy\", pretext: \"Published by \" }]}\n\t\t\t\t\thandleInputChange={handleInputChange}\n\t\t\t\t\tsorters={[topicSelect, formatSelect]}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Layout>\n\t)\n}\n\nexport const query = graphql`\n\tquery($slug: String!, $isList: Boolean!) {\n\t\tfile(fields: { slug: { eq: $slug } }) {\n\t\t\trelativePath\n\t\t\tbase\n\t\t\tname\n\t\t\tsourceInstanceName\n\t\t\tinternal {\n\t\t\t\ttype\n\t\t\t\tcontentDigest\n\t\t\t\tdescription\n\t\t\t\tmediaType\n\t\t\t}\n\t\t\tfields {\n\t\t\t\tslug\n\t\t\t}\n\t\t\tchildMarkdownRemark {\n\t\t\t\tid\n\t\t\t\thtml\n\t\t\t\tfrontmatter {\n\t\t\t\t\ttitle\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tallClip(sort: { fields: clip___date, order: DESC }) @include(if: $isList) {\n\t\t\ttotalCount\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tid\n\t\t\t\t\tclip {\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tdate\n\t\t\t\t\t\tisBasedOn\n\t\t\t\t\t\tformat\n\t\t\t\t\t\ttopic\n\t\t\t\t\t\tpublishedBy\n\t\t\t\t\t\tlocation\n\t\t\t\t\t\tmedia\n\t\t\t\t\t\timageSource\n\t\t\t\t\t\tdescription\n\t\t\t\t\t\tcontent\n\t\t\t\t\t\tslug\n\t\t\t\t\t}\n\t\t\t\t\tfields {\n\t\t\t\t\t\timgObj {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tpublicURL\n\t\t\t\t\t\t\tchildImageSharp {\n\t\t\t\t\t\t\t\tfluid(maxWidth: 300) {\n\t\t\t\t\t\t\t\t\t...GatsbyImageSharpFluid\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"allNodesContainer\":\"strongSlantAllNodes-module--all-nodes-container--3AcTC\",\"allNodesHeader\":\"strongSlantAllNodes-module--all-nodes-header--16-IR\",\"nodeSortContainer\":\"strongSlantAllNodes-module--node-sort-container--2aK4r\",\"nodeSetContainer\":\"strongSlantAllNodes-module--node-set-container--1V0MG\",\"nodeSingle\":\"strongSlantAllNodes-module--node-single--28IFJ\",\"listImage\":\"strongSlantAllNodes-module--list-image--ByO2H\",\"nodeSingleInnerLayer\":\"strongSlantAllNodes-module--node-single-inner-layer--ZJXkw\",\"formInput\":\"strongSlantAllNodes-module--form-input--1rBEz\",\"formDropdown\":\"strongSlantAllNodes-module--form-dropdown--2fBbI\",\"capitalize\":\"strongSlantAllNodes-module--capitalize--3AWne\"};","import React from \"react\"\nimport allNodesStyles from \"../styles/fwAllNodes.module.css\"\n\nconst SortDown = props => {\n\tlet pdStart = <option value=\"\">All</option>\n\tlet baseOfObject = props.baseOfObject\n\tlet edgeParam = props.edgeParamter\n\t// TODO: Alphabatize this\n\tlet topicPullDownLimited = props.edgeList.reduce(\n\t\t(accumulator, currentValue) => {\n\t\t\tif (!accumulator.includes(currentValue.node[baseOfObject][edgeParam])) {\n\t\t\t\taccumulator.push(currentValue.node[baseOfObject][edgeParam])\n\t\t\t}\n\t\t\treturn accumulator\n\t\t},\n\t\t[]\n\t)\n\ttopicPullDownLimited.sort()\n\tlet pullDownList = topicPullDownLimited.map(currentValue => {\n\t\treturn (\n\t\t\t<option\n\t\t\t\tvalue={currentValue.toLowerCase()}\n\t\t\t\tkey={currentValue.toLowerCase()}\n\t\t\t>\n\t\t\t\t{currentValue}\n\t\t\t</option>\n\t\t)\n\t})\n\n\tconst nameOfSort = edgeParam\n\n\treturn (\n\t\t<div className={allNodesStyles.formDropdown}>\n\t\t\t<label className={allNodesStyles.capitalize} htmlFor={`${edgeParam}s`}>{nameOfSort}: </label>\n\t\t\t<select id={`${edgeParam}s`} onChange={e => props.handleChange(e)}>\n\t\t\t\t{pdStart}\n\t\t\t\t{pullDownList}\n\t\t\t</select>\n\t\t</div>\n\t)\n}\n\nexport default SortDown\n"],"sourceRoot":""}
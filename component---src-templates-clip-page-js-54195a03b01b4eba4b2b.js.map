{"version":3,"sources":["webpack:///./src/templates/clip-page.js"],"names":["data","pageContext","previewImage","isFluid","clipObj","clip","queryResult","origImage","childImageSharp","fluid","publicURL","previewEl","sources","Object","assign","media","key","id","alt","className","styles","bbImageWrapper","src","noImg","originalContent","archivedContent","publishedBy","publisherUrl","isBasedOn","URL","origin","href","target","rel","clipLink","e","console","log","archiveFile","mediaFile","spacer","previousLink","nextLink","humanReadableDate","date","homeLink","to","style","textDecoration","previous","slug","title","next","defaultDescription","description","content","isType","format","topic","postMeta","postDefaults","postPath","typeMeta","publisher","publisher_name","display","float","position","top","paddingLeft","blackOutBox","flexRow","flexCol","bbDataHolder","location","dangerouslySetInnerHTML","__html","data-img","marginTop","lineHeight","paddingBottom","query"],"mappings":"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","file":"component---src-templates-clip-page-js-54195a03b01b4eba4b2b.js","sourcesContent":["import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport Link from \"gatsby-link\"\nimport Img from \"gatsby-image\"\nimport styles from \"../styles/glitchFrenchWave.module.css\"\nimport BreadCrumb from \"../components/BreadCrumb\"\nimport SEO from \"../components/SEO\"\nimport HumanReadableDate from \"../components/HumanReadableDate\"\n\nexport default ({ data, pageContext }) => {\n\t// console.log(\"Data: \", data, pageContext)\n\tvar previewImage = false\n\tvar isFluid = false\n\tvar clipObj = data.clip.clip\n\tvar queryResult = data\n\tvar origImage = \"\"\n\tif (queryResult.previewImage) {\n\t\tif (\n\t\t\tqueryResult.previewImage.childImageSharp &&\n\t\t\tqueryResult.previewImage.childImageSharp.fluid\n\t\t) {\n\t\t\tpreviewImage = queryResult.previewImage.childImageSharp.fluid\n\t\t\tisFluid = true\n\t\t} else if (queryResult.previewImage.publicURL) {\n\t\t\tpreviewImage = queryResult.previewImage.publicURL\n\t\t}\n\t}\n\tif (queryResult.previewImage && queryResult.previewImage.publicURL) {\n\t\torigImage = queryResult.previewImage.publicURL\n\t}\n\tvar previewEl = null\n\tif (previewImage && isFluid) {\n\t\tconst previewImageObj = Object.assign(\n\t\t\t{\n\t\t\t\tmedia: `(max-width: 400px)`,\n\t\t\t\tkey: queryResult.previewImage.childImageSharp.id,\n\t\t\t},\n\t\t\tqueryResult.previewImage.childImageSharp.fluid\n\t\t)\n\t\tconst sources = [previewImageObj]\n\t\tpreviewEl = (\n\t\t\t<Img\n\t\t\t\tkey={queryResult.previewImage.childImageSharp.id}\n\t\t\t\tfluid={sources}\n\t\t\t\talt=\"\"\n\t\t\t\tclassName={styles.bbImageWrapper}\n\t\t\t/>\n\t\t)\n\t} else if (previewImage) {\n\t\tpreviewEl = (\n\t\t\t<img src={previewImage} alt=\"\" className={styles.bbImageWrapper} />\n\t\t)\n\t} else {\n\t\tpreviewEl = <div className={styles.noImg}></div>\n\t}\n\n\tvar publisherUrl = \"\"\n\tvar originalContent, archivedContent, publishedBy\n\ttry {\n\t\tif (clipObj.isBasedOn) {\n\t\t\tconst theSourceUrl = new URL(clipObj.isBasedOn)\n\t\t\tpublisherUrl = theSourceUrl.origin\n\t\t\tpublishedBy = (\n\t\t\t\t<h4 className=\"source-with-origin-url\">\n\t\t\t\t\tPublished by: <br />{\" \"}\n\t\t\t\t\t<a href={publisherUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t{clipObj.publishedBy}\n\t\t\t\t\t</a>\n\t\t\t\t</h4>\n\t\t\t)\n\n\t\t\toriginalContent = (\n\t\t\t\t<span className={styles.clipLink}>\n\t\t\t\t\t<a href={clipObj.isBasedOn} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\tView clip\n\t\t\t\t\t</a>\n\t\t\t\t</span>\n\t\t\t)\n\t\t} else {\n\t\t\tpublisherUrl = \"\"\n\t\t\tpublishedBy = (\n\t\t\t\t<h4 className=\"source-without-origin-url\">\n\t\t\t\t\tPublished by: <br /> {clipObj.publishedBy}\n\t\t\t\t</h4>\n\t\t\t)\n\t\t\toriginalContent = (\n\t\t\t\t<span className={styles.clipLink}>\n\t\t\t\t\tOriginal Clip No Longer Available\n\t\t\t\t</span>\n\t\t\t)\n\t\t}\n\t} catch (e) {\n\t\tconsole.log(\"Clip build error occured \", e)\n\t\tpublishedBy = <span></span>\n\t\toriginalContent = <span></span>\n\t}\n\tvar archiveFile = \"\"\n\tif (queryResult.mediaFile && queryResult.mediaFile.publicURL) {\n\t\tarchiveFile = queryResult.mediaFile\n\t}\n\tif (clipObj.media && archiveFile.publicURL) {\n\t\tarchivedContent = (\n\t\t\t<span className={styles.clipLink}>\n\t\t\t\t<span className={styles.spacer}>|</span>\n\t\t\t\t<a\n\t\t\t\t\thref={archiveFile.publicURL}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\tArchived Clip\n\t\t\t\t</a>\n\t\t\t</span>\n\t\t)\n\t} else {\n\t\tarchivedContent = <span className={styles.clipLink}></span>\n\t}\n\tvar humanReadableDate = <HumanReadableDate date={clipObj.date} />\n\tvar homeLink = (\n\t\t<Link to={\"/clips\"} key=\"clipsHomepage\">\n\t\t\t<span\n\t\t\t\tstyle={{\n\t\t\t\t\ttextDecoration: \"underline\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tAll Clips\n\t\t\t</span>\n\t\t</Link>\n\t)\n\tvar previousLink, nextLink\n\tif (pageContext.previous) {\n\t\tpreviousLink = (\n\t\t\t<Link\n\t\t\t\tto={\"/clip/\" + pageContext.previous.slug}\n\t\t\t\tkey={pageContext.previous.id}\n\t\t\t\ttitle={pageContext.previous.title}\n\t\t\t>\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttextDecoration: \"underline\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tPrevious Clip\n\t\t\t\t</span>\n\t\t\t</Link>\n\t\t)\n\t} else {\n\t\tpreviousLink = homeLink\n\t}\n\tif (pageContext.next) {\n\t\tnextLink = (\n\t\t\t<Link\n\t\t\t\tto={\"/clip/\" + pageContext.next.slug}\n\t\t\t\tkey={pageContext.next.id}\n\t\t\t\ttitle={pageContext.next.title}\n\t\t\t>\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttextDecoration: \"underline\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tNext Clip\n\t\t\t\t</span>\n\t\t\t</Link>\n\t\t)\n\t} else {\n\t\tnextLink = homeLink\n\t}\n\tlet defaultDescription = false\n\tif (!clipObj.description && !clipObj.content && !clipObj.description) {\n\t\tdefaultDescription = \"Work by\"\n\t}\n\tvar isType = \"website\"\n\tswitch (clipObj.format) {\n\t\tcase \"text\":\n\t\t\tisType = \"NewsArticle\"\n\t\t\tif (clipObj.topic === \"Opinion\" || clipObj.topic === \"PR\") {\n\t\t\t\tisType = \"article\"\n\t\t\t}\n\t\t\tbreak\n\n\t\tdefault:\n\t\t\tisType = \"website\"\n\t\t\tbreak\n\t}\n\treturn (\n\t\t<Layout>\n\t\t\t<SEO\n\t\t\t\tpostMeta={clipObj}\n\t\t\t\tpostDefaults={{ description: defaultDescription }}\n\t\t\t\tpostPath={\"clip/\" + clipObj.slug}\n\t\t\t\tisType={isType}\n\t\t\t\ttypeMeta={{\n\t\t\t\t\tisBasedOn: clipObj.isBasedOn,\n\t\t\t\t\tpublisher: publisherUrl,\n\t\t\t\t\tpublisher_name: clipObj.publishedBy,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<BreadCrumb\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\tfloat: \"left\",\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\ttop: \"calc(3rem - 34px)\",\n\t\t\t\t\tpaddingLeft: \"20px\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tClip\n\t\t\t</BreadCrumb>\n\t\t\t<div id={queryResult.clip.id} className={styles.blackOutBox}>\n\t\t\t\t<h1>{clipObj.title}</h1>\n\t\t\t\t<div className={styles.flexRow}>\n\t\t\t\t\t<div className={styles.flexCol}>\n\t\t\t\t\t\t<div className={styles.bbDataHolder}>\n\t\t\t\t\t\t\t{originalContent} {archivedContent}\n\t\t\t\t\t\t\t<h2>About this clip: </h2>\n\t\t\t\t\t\t\t{publishedBy}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<strong>Location Published</strong>: {clipObj.location}\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<strong>Published on</strong>: {humanReadableDate}\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<strong>Topic</strong>: {clipObj.topic}\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<strong>Summary</strong>: {clipObj.description}\n\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: clipObj.content }} />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div data-img={origImage} className={styles.flexCol}>\n\t\t\t\t\t\t{previewEl}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<BreadCrumb\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\tfloat: \"left\",\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\tmarginTop: \"3rem\",\n\t\t\t\t\tpaddingLeft: \"20px\",\n\t\t\t\t\tlineHeight: \"4px\",\n\t\t\t\t\tpaddingBottom: \"12px\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{previousLink} | {nextLink}\n\t\t\t</BreadCrumb>\n\t\t</Layout>\n\t)\n}\n\nexport const query = graphql`\n\tquery($id: String!, $mainImage: String, $mediaName: String) {\n\t\tclip(id: { eq: $id }) {\n\t\t\tid\n\t\t\tclip {\n\t\t\t\tdate\n\t\t\t\tcontent\n\t\t\t\tformat\n\t\t\t\tdescription\n\t\t\t\timage\n\t\t\t\timageSource\n\t\t\t\tisBasedOn\n\t\t\t\tlocation\n\t\t\t\tpublishedBy\n\t\t\t\tmedia\n\t\t\t\tslug\n\t\t\t\ttitle\n\t\t\t\ttopic\n\t\t\t}\n\t\t}\n\t\tpreviewImage: file(relativePath: { glob: $mainImage }) {\n\t\t\tabsolutePath\n\t\t\tpublicURL\n\t\t\tchildImageSharp {\n\t\t\t\tfluid(maxWidth: 400) {\n\t\t\t\t\tsrc\n\t\t\t\t}\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t\tmediaFile: file(\n\t\t\tsourceInstanceName: { eq: \"media\" }\n\t\t\trelativePath: { eq: $mediaName }\n\t\t) {\n\t\t\tpublicURL\n\t\t\tfields {\n\t\t\t\tslug\n\t\t\t}\n\t\t}\n\t}\n`\n"],"sourceRoot":""}